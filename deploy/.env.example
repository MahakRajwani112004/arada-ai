# MagOneAI Deployment Environment Variables
# Copy this file to .env and fill in your values

# ==============================================
# REQUIRED CONFIGURATION
# ==============================================

# Domain for the application
DOMAIN=magoneai.magure.ai

# Database password (generate a strong password)
DB_PASSWORD=your_secure_database_password

# Secret key for application security (generate with: openssl rand -hex 32)
SECRET_KEY=your_secret_key_here

# LLM Provider API Keys (at least one required)
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ==============================================
# OPTIONAL CONFIGURATION
# ==============================================

# Docker image settings
DOCKER_REGISTRY=magureme
IMAGE_TAG=v1

# Redis password
REDIS_PASSWORD=redis_secret

# Secrets encryption key (REQUIRED for local vault)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECRETS_ENCRYPTION_KEY=your-fernet-encryption-key

# ==============================================
# CORS & RATE LIMITING
# ==============================================

# Comma-separated list of allowed CORS origins (REQUIRED in production)
# Example: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=https://magoneai.magure.ai

# Rate limiting (requests per minute)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WORKFLOW=10/minute
RATE_LIMIT_AGENTS=20/minute
RATE_LIMIT_DEFAULT=100/minute

# Workflow execution timeout
WORKFLOW_TIMEOUT_SECONDS=600

# Database connection pool (increase for production)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600

# Let's Encrypt email for SSL certificates
ACME_EMAIL=admin@yourdomain.com

# Traefik dashboard auth (generate with: htpasswd -nb admin yourpassword)
# Default: admin:admin (CHANGE THIS IN PRODUCTION!)
TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$xyz$$placeholder

# ==============================================
# GOOGLE OAUTH (Optional - for Calendar/Gmail MCP)
# ==============================================

GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
# Must match your Google Cloud Console OAuth settings
OAUTH_REDIRECT_URI=https://magoneai.magure.ai/api/v1/oauth/google/callback

# ==============================================
# MICROSOFT OAUTH (Optional - for Outlook Calendar/Email MCP)
# ==============================================
# Create an app in Azure Portal: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# Required API permissions: Calendars.ReadWrite, Mail.ReadWrite, Mail.Send, offline_access

MICROSOFT_CLIENT_ID=your-azure-app-client-id
MICROSOFT_CLIENT_SECRET=your-azure-app-client-secret
# Use "common" for multi-tenant, or your specific tenant ID for single-tenant
MICROSOFT_TENANT_ID=common
# Must match your Azure AD app redirect URI
MICROSOFT_OAUTH_REDIRECT_URI=https://magoneai.magure.ai/api/v1/oauth/microsoft/callback
